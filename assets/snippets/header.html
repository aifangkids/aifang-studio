<!-- header.html -->
<div class="header">
  <div class="logo-left">AiFangKids</div>
  <div class="logo-center">
    <a href="index.html">
      <img src="https://raw.githubusercontent.com/aifangkids/aifang-studio/main/images/LOGO.png" alt="LOGO">
    </a>
  </div>
  <div class="cart-icon" id="cartIcon" onclick="location.href='cart.html'">
    <img id="cartImg" src="https://raw.githubusercontent.com/d89313e999e627fccdced6c2d1574d4d6f163e61/main/images/cart2.png" alt="Cart">
    <span id="cartCount" class="cart-count"></span>
  </div>
</div>

<style>
.cart-icon {
  position: relative;
  width: 40px;
  height: 40px;
  cursor: pointer;
}
.cart-icon img {
  width: 100%;
  height: 100%;
}
.cart-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background-color: #e2c890; /* 你的溫柔色 */
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  width: 18px;
  height: 18px;
  text-align: center;
  line-height: 18px;
  border-radius: 50%;
  display: none;
}
</style>

<script>
function updateCartIcon() {
  // 假設購物車資料存 localStorage.cart = [{code, qty}, ...]
  const cart = JSON.parse(localStorage.getItem('cart') || '[]');
  const count = cart.reduce((sum, item) => sum + item.qty, 0);
  const cartImg = document.getElementById('cartImg');
  const cartCount = document.getElementById('cartCount');

  if(count > 0) {
    cartImg.src = "https://raw.githubusercontent.com/d89313e999e627fccdced6c2d1574d4d6f163e61/main/images/cart3.png";
    cartCount.style.display = 'block';
    cartCount.textContent = count;
  } else {
    cartImg.src = "https://raw.githubusercontent.com/d89313e999e627fccdced6c2d1574d4d6f163e61/main/images/cart2.png";
    cartCount.style.display = 'none';
  }
}

// 初次更新
updateCartIcon();

// 可在購物車頁或加入商品後呼叫 updateCartIcon() 立即更新
</script>
